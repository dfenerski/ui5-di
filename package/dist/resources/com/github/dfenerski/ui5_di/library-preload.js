//@ui5-bundle com/github/dfenerski/ui5_di/library-preload.js
sap.ui.predefine("com/github/dfenerski/ui5_di/Injector", ["reflect-metadata/lite","./di-container/DIContainer","./di-container/misc/constants","./injector-util/InjectorUtil","./injector-util/misc/constants","./misc","./reflect-util/ReflectUtil"],function(e,n,t,c,r,s,o){"use strict";const i=n["DIContainer"];const a=t["Precedence"];const d=c["InjectorUtil"];const l=r["DependencyResolutionStrategy"];const y=s["E_INJECTOR_NO_DEPENDENCY_FACTORY"];const p=o["ReflectUtil"];class u{static logger=console;static _container=new i;static dumpContainerInfo(){this.logger.error("Injector._container:\n",this._container)}static createDependencyProxy(e){return new Proxy(e,{get:(e,n,t)=>{if(!e.dependencyInstance){return undefined}return Reflect.get(e.dependencyInstance,n,t)}})}static register(e){const n=p.getIsFactoryOnly(e);const t=p.getParameterTypes(e);if(!n){t.forEach(e=>this.register(e))}const c=p.getInjectionToken(e);const r=p.getPrecedence(e);if(this._container.has(c)){const{dependencyClass:n,precedence:t}=this._container.get(c);if(n===e){return}else if(t>r){return}}const s={dependencyInstance:null};const o={dependencyClass:e,dependencyInstance:null,dependencyProxy:this.createDependencyProxy(s),dependencyProxyContext:s,precedence:r};this._container.set(c,o)}static settle(e,n){const t=d.normalizeSettleToken(e);const{dependencyClass:c,dependencyInstance:r,dependencyProxy:s,dependencyProxyContext:o,precedence:i}=this._container.get(t);if(r){return r}const a=p.getIsFactoryOnly(c);if(a&&!n){throw new Error(y)}const l=p.getParameterTypes(c);const u=p.getParameterInjectionTokens(c);const I=a?[]:l.map((e,n)=>this.settle(u[n]||p.getInjectionToken(e)));const P=n?n():new c(...I);o.dependencyInstance=P;this._container.set(t,{dependencyClass:c,dependencyInstance:P,dependencyProxy:s,dependencyProxyContext:o,precedence:i});return P}static settleLazy(e,n){const t=d.normalizeSettleToken(e);const{dependencyClass:c,dependencyInstance:r,dependencyProxy:s}=this._container.get(t);if(r){return[r,()=>r]}const o=p.getIsFactoryOnly(c);if(o&&!n){throw new Error(y)}return[s,()=>this.settle(t,n)]}static Inject(e){return function(n,t,c){const r=p.getParameterInjectionTokens(n);r[c]=e;p.setParameterInjectionTokens(n,r)}}static Injectable(e=l.POLYMORPHIC){const{drs:n,primitiveToken:t}=d.parseInjectableArguments(e);return function(e){const c=d.resolveInjectionToken({dependencyClass:e,drs:n,primitiveToken:t});const r=p.getPrecedence(e)||a.DEFAULT;p.setInjectionToken(e,c);p.setPrecedence(e,r);u.register(e)}}static Precedence(e){return function(n){p.setPrecedence(n,e)}}static Final(){return function(e){p.setPrecedence(e,a.FINAL)}}static FactoryOnly(){return function(e){p.setIsFactoryOnly(e,true)}}}const I=u.dumpContainerInfo.bind(u);const P=u.settle.bind(u);const f=u.settleLazy.bind(u);const g=u.Inject.bind(u);const j=u.Injectable.bind(u);const m=u.Precedence.bind(u);const C=u.Final.bind(u);const h=u.FactoryOnly.bind(u);var T={__esModule:true};T.FactoryOnly=h;T.Final=C;T.Inject=g;T.Injectable=j;T.Precedence=m;T.dumpContainerInfo=I;T.settle=P;T.settleLazy=f;return T});
sap.ui.predefine("com/github/dfenerski/ui5_di/di-container/DIContainer", ["./misc/errors"],function(r){"use strict";const t=r["E_DI_CONTAINER_NO_WRAPLET"];class e{_registry=new Map;has(r){return this._registry.has(r)}get(r){const e=this._registry.get(r);if(!e){throw new Error(t)}return e}set(r,t){this._registry.set(r,t)}}var s={__esModule:true};s.DIContainer=e;return s});
sap.ui.predefine("com/github/dfenerski/ui5_di/di-container/misc/constants", [],function(){"use strict";const e=Object.freeze({DEFAULT:0,FINAL:999});var r={__esModule:true};r.Precedence=e;return r});
sap.ui.predefine("com/github/dfenerski/ui5_di/di-container/misc/errors", [],function(){"use strict";const e="DI container failed: could not find requested dependency for given token";var n={__esModule:true};n.E_DI_CONTAINER_NO_WRAPLET=e;return n});
sap.ui.predefine("com/github/dfenerski/ui5_di/injector-util/InjectorUtil", ["../reflect-util/ReflectUtil","./misc/constants"],function(e,t){"use strict";const n=e["ReflectUtil"];const r=t["DependencyResolutionStrategy"];const s=t["DependencyResolutionStrategyList"];function i(e){return s.includes(e)}function c(e){return typeof e==="function"}class o{static parseInjectableArguments(e=r.POLYMORPHIC){const t=i(e);const n=t?e:r.EXPLICIT;const s=t?null:e;return{drs:n,primitiveToken:s}}static resolveInjectionToken({dependencyClass:e,drs:t,primitiveToken:n}){if(t===r.POLYMORPHIC){return e.name}else if(t===r.DISCRETE){return e}else{return n}}static normalizeSettleToken(e){const t=c(e);if(t){return n.getInjectionToken(e)}return e}}var u={__esModule:true};u.InjectorUtil=o;return u});
sap.ui.predefine("com/github/dfenerski/ui5_di/injector-util/misc/constants", [],function(){"use strict";const e=Object.freeze({POLYMORPHIC:"POLYMORPHIC",DISCRETE:"DISCRETE",EXPLICIT:"EXPLICIT"});const t=Object.values(e);var n={__esModule:true};n.DependencyResolutionStrategy=e;n.DependencyResolutionStrategyList=t;return n});
sap.ui.predefine("com/github/dfenerski/ui5_di/library", ["sap/ui/core/Lib"],function(e){"use strict";sap.ui.loader.config({map:{"*":{"reflect-metadata":"ui5-di/reflect-metadata/Reflect","reflect-metadata/lite":"ui5-di/reflect-metadata/ReflectLite","ui5-di":"com/github/dfenerski/ui5_di/Injector","ui5-di/injector-util":"com/github/dfenerski/ui5_di/injector-util"}},shim:{"ui5-di/reflect-metadata/Reflect":{amd:true,deps:[],exports:"Reflect"},"ui5-di/reflect-metadata/ReflectLite":{amd:true,deps:[],exports:"Reflect"}}});const t=e.init({name:"com.github.dfenerski.ui5_di",version:"${version}",dependencies:[],types:[],interfaces:[],controls:[],elements:[],noLibraryCSS:true});return t});
sap.ui.predefine("com/github/dfenerski/ui5_di/misc", [],function(){"use strict";const e="Factory-only dependency must be instantiated via a factory function but none was provided";var n={__esModule:true};n.E_INJECTOR_NO_DEPENDENCY_FACTORY=e;return n});
sap.ui.predefine("com/github/dfenerski/ui5_di/reflect-util/ReflectUtil", ["./misc/errors"],function(e){"use strict";const t=e["E_REFLECT_UTIL_NO_DI_TOKEN"];class a{static getInjectionToken(e){const a=Reflect.getOwnMetadata("ui5di:injectionToken",e);if(!a){throw new Error(t)}return a}static getParameterInjectionTokens(e){const t=this.getOwnParameterTypes(e);const a=Reflect.getMetadata("ui5di:parameterInjectionTokens",e)||{};const n=Reflect.getOwnMetadata("ui5di:parameterInjectionTokens",e)||{};const r=Object.assign({},a,n);for(let e=0;e<t.length;e++){if(t[e]&&!n[e]){delete r[e]}}return r}static getParameterTypes(e){return Reflect.getMetadata("design:paramtypes",e)||[]}static getOwnParameterTypes(e){return Reflect.getOwnMetadata("design:paramtypes",e)||[]}static getPrecedence(e){return Reflect.getOwnMetadata("ui5di:precedence",e)}static getIsFactoryOnly(e){return Reflect.getOwnMetadata("ui5di:isFactoryOnly",e)}static setInjectionToken(e,t){return Reflect.defineMetadata("ui5di:injectionToken",t,e)}static setParameterInjectionTokens(e,t){return Reflect.defineMetadata("ui5di:parameterInjectionTokens",t,e)}static setPrecedence(e,t){return Reflect.defineMetadata("ui5di:precedence",t,e)}static setIsFactoryOnly(e,t){return Reflect.defineMetadata("ui5di:isFactoryOnly",t,e)}}var n={__esModule:true};n.ReflectUtil=a;return n});
sap.ui.predefine("com/github/dfenerski/ui5_di/reflect-util/misc/errors", [],function(){"use strict";const e="Reflection failed: no DI token found for class";var n={__esModule:true};n.E_REFLECT_UTIL_NO_DI_TOKEN=e;return n});
sap.ui.require.preload({
	"com/github/dfenerski/ui5_di/di-container/interfaces/IDependencyWraplet.js":function(){

},
	"com/github/dfenerski/ui5_di/di-container/types/DIRegistry.js":function(){

},
	"com/github/dfenerski/ui5_di/di-container/types/DependencyProxyContext.js":function(){

},
	"com/github/dfenerski/ui5_di/injector-util/interfaces/IResolveInjectionTokens.js":function(){

},
	"com/github/dfenerski/ui5_di/injector-util/types/DependencyResolutionStrategyType.js":function(){

},
	"com/github/dfenerski/ui5_di/manifest.json":'{"_version":"1.21.0","sap.app":{"id":"com.github.dfenerski.ui5_di","type":"library","embeds":[],"applicationVersion":{"version":"0.0.7"},"title":"com.github.dfenerski.ui5_di","description":"A package for ui5 development at warp speed","resources":"resources.json","offline":true},"sap.ui":{"technology":"UI5","supportedThemes":[]},"sap.ui5":{"dependencies":{"minUI5Version":"1.120","libs":{}},"library":{"i18n":false,"css":false,"content":{"controls":[],"elements":[],"types":[],"interfaces":[]}}}}',
	"com/github/dfenerski/ui5_di/reflect-util/types/ParameterInjectionTokens.js":function(){

}
});
//# sourceMappingURL=library-preload.js.map
